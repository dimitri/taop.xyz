<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="generator" content="Hugo 0.50" />
    <meta charset="utf-8" />
    <title>The Art of PostgreSQL - What is an SQL JOIN?</title>
    <meta name="description" content="It took me quite some time before I could reason efficiently about SQL
JOINs. And I must admit, the set theory diagrams never helped me really
understand JOINs in SQL. So today, I want to help you understand JOINs in a
different way, hoping to make the concept click at once for you too!

" />

    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@tapoueh" />
    <meta name="twitter:creator" content="@tapoueh" />
    <meta property="og:url" content="/blog/2019-09-sql-joins/" />
    <meta
      property="og:title"
      content="What is an SQL JOIN?"
    />
    <meta
      property="og:description"
      content="The book that teaches SQL to developers: Learn to replace thousands of lines of code with simple queries!"
    />
    <meta
      property="og:image"
      content="https://theartofpostgresql.com/images/hardcover-mockup.jpg"
    />

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />

    <link href="/favicon.ico" rel="icon" type="image/x-icon" />

    <link
      href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/syntax.css" />
    <link href="/pggraph/static/css/main.736aaa9f.chunk.css" rel="stylesheet" />
    <link
      href="https://unpkg.com/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/font-awesome@4.7.0/css/font-awesome.css"
      rel="stylesheet"
    />
    <link href="/pev/css/app.888e741c.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <script src="/js/custom.js"></script>
  </head>
  <body class="blog"></body>
</html>

<header class="header"  style="background-color: #67527a; background: url('/images/demo/slide.jpg');">
    <div class="wrapper">
        <a class="logo" href="/">The Art of PostgreSQL</a>
        
        <nav>
            <ul>
                <li><a data-slide=".subscribe_block" href="/">The Book</a></li>
                <li><a data-slide=".packages_block" href="/">PACKAGES</a></li>
                <li><a data-slide=".about_block" href="#">AUTHOR</a></li>
                <li><a data-slide=".quote_slider" href="/blog/">BLOG</a></li>
            </ul>
        </nav>
        
    </div>
    <a data-slide=".price_list" class="button" href="/">PURCHASE</a>
</header>


<div class="single_block">
    <div class="wrapper">
        
        <div class="single_content">
         <p><img src="/img/SQL-JOINS-Example-0.png" alt="" /></p>
         <h1>What is an SQL JOIN?</h1>         

         <p>It took me quite some time before I could reason efficiently about SQL
JOINs. And I must admit, the set theory diagrams never helped me really
understand JOINs in SQL. So today, I want to help you understand JOINs in a
different way, hoping to make the concept click at once for you too!</p>

<p></p>

<p>As we saw in the previous article <a href="/blog/2019-09-sql-relations/">What is an SQL
relation?</a>, in SQL a relation is a collection
of objects, all sharing the same definition. SQL introduces relations and
operators to <em>compose</em> them.</p>

<p>In mathematics, you can define a new function <code>H</code> as being the result of
applying <code>F</code> to some object, and then <code>G</code> to the result of the previous
operation. We then note that <code>H = F ∘ G</code> and it means that <code>H(x) = F(G(x))</code>.
Functional programing languages all have a way to express this kind of
composition. This allows to build a new function from simpler ones.</p>

<p>In SQL we compose relations: we build a new relation from two existing ones.
Remember, a relation is a collection of objects. How would you compose two
collections of objects together to form a new collection of objects?</p>

<p>There aren&rsquo;t that many ways to do it. Both input collections have objects of
certain properties, or attributes. You typically want to build a new
collection of objects that would have properties from the two collections,
right?</p>

<p>That&rsquo;s it. That&rsquo;s a SQL JOIN.</p>

<p>Let&rsquo;s see an example, taken from my book <a href="https://theartofpostgresql.com">The Art of
PostgreSQL</a>:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#586e75">-- name: list-albums-by-artist
</span><span style="color:#586e75">-- List the album titles and duration of a given artist
</span><span style="color:#586e75"></span>  <span style="color:#719e07">select</span> album.title <span style="color:#719e07">as</span> album,
         <span style="color:#719e07">sum</span>(milliseconds) <span style="color:#719e07">*</span> <span style="color:#b58900">interval</span> <span style="color:#2aa198">&#39;1 ms&#39;</span> <span style="color:#719e07">as</span> duration
    <span style="color:#719e07">from</span> album
         <span style="color:#719e07">join</span> artist <span style="color:#719e07">using</span>(artistid)
         <span style="color:#719e07">left</span> <span style="color:#719e07">join</span> track <span style="color:#719e07">using</span>(albumid)
   <span style="color:#719e07">where</span> artist.name <span style="color:#719e07">=</span> <span style="color:#2aa198">&#39;Red Hot Chili Peppers&#39;</span>
<span style="color:#719e07">group</span> <span style="color:#719e07">by</span> album
<span style="color:#719e07">order</span> <span style="color:#719e07">by</span> album;</code></pre></div>
<p>In this query we build a new relation that is a composition of the objects
found in the collection <code>ALBUM</code> with the objects found in the collection
<code>ARTIST</code>. The result is a new collection of objects where we have both the
properties of the album and the artist, and we enrich albums with the artist
of the same <code>artistid</code>.</p>

<p>This <code>JOIN</code> that you see in the query, that&rsquo;s all it means. For each album,
we add the information from the artist that shares the same <code>artistid</code>. In
that case, we expect a single artist per album, so that&rsquo;s even easier.</p>

<p>Next, we have a <code>LEFT JOIN</code> that composes this new relation with the
collection of track objects. We build a new collection of objects that have
all the properties of the <code>ALBUM</code>, the <code>ARTIST</code> and the <code>TRACK</code>.</p>

<p>I will dive in the other parts of the query in other articles! Here&rsquo;s the
new relation we have defined with the SQL query above:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">┌───────────────────────┬──────────────────────────────┐
│         album         │           duration           │
├───────────────────────┼──────────────────────────────┤
│ Blood Sugar Sex Magik │ <span style="color:#719e07">@</span> <span style="color:#2aa198">1</span> hour <span style="color:#2aa198">13</span> mins <span style="color:#2aa198">57</span>.<span style="color:#2aa198">073</span> secs │
│ <span style="color:#719e07">By</span> The Way            │ <span style="color:#719e07">@</span> <span style="color:#2aa198">1</span> hour <span style="color:#2aa198">8</span> mins <span style="color:#2aa198">49</span>.<span style="color:#2aa198">951</span> secs  │
│ Californication       │ <span style="color:#719e07">@</span> <span style="color:#2aa198">56</span> mins <span style="color:#2aa198">25</span>.<span style="color:#2aa198">461</span> secs        │
└───────────────────────┴──────────────────────────────┘
(<span style="color:#2aa198">3</span> <span style="color:#719e07">rows</span>)</code></pre></div>
<p>Check out my book <a href="https://theartofpostgresql.com">The Art of PostgreSQL</a>
where you can learn how to put SQL to good use when coding your application!</p>

            <footer>
             <p><strong>TAGS:</strong>
              
              
              <a href="https://theartofpostgresql.com/tags/sql">SQL</a>
              
              <a href="https://theartofpostgresql.com/tags/relation">Relation</a>
              
              <a href="https://theartofpostgresql.com/tags/theory">Theory</a>
              
              <a href="https://theartofpostgresql.com/tags/join">JOIN</a>
              
              <a href="https://theartofpostgresql.com/tags/composition">Composition</a>
              
              
             </p>
            </footer>

            <div class="single_subscribe">
                <p>Subscribe to receive a FREE chapter of the second edition of my book, <b><i>“The Art of PostgreSQL”</i></b> including the full Table of Contents!</p>
                 <script async data-uid="c1452ad801" src="https://f.convertkit.com/c1452ad801/ad53e74e51.js"></script>
            </div>
        </div>

        <aside class="single_sidebar">
 <h6>RECENT POSTS</h6>
 <ul>
 
 <li><a class="previous" href="https://theartofpostgresql.com/blog/2019-09-sql-relations/"> What is an SQL relation?</a></li>
 
 
 <li><a class="next" href="https://theartofpostgresql.com/blog/2019-09-sql-aggregates/"> What is an SQL Aggregate?</a></li>
 
 </ul>
 
 <h6>TAGS</h6>
 <div class="tag_list">
  
   
     <a href="https://theartofpostgresql.com/tags/sql">SQL</a>
   
     <a href="https://theartofpostgresql.com/tags/relation">Relation</a>
   
     <a href="https://theartofpostgresql.com/tags/theory">Theory</a>
   
     <a href="https://theartofpostgresql.com/tags/join">JOIN</a>
   
     <a href="https://theartofpostgresql.com/tags/composition">Composition</a>
   
  
 </div>

 <hr style="margin-top: 2em;"/>
 



<style>
#share-buttons {display: inline-block; vertical-align: middle; padding-bottom: 1em;}
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
position: relative;
height: 36px; 
width: 64px; 
float: left; 
text-align: center;
color: #18181C;
}
#share-buttons > div > svg {height: 16px; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 36px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 40px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 38px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 40px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 34px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 28px; margin-top: 11px;}
</style>

<div id="share-buttons">
 <header style="text-align: center">
  <h3>Share</h3>
 </header>
<div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
<div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/intent/tweet?text=What is an SQL JOIN?&url=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
<div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>


</div>


 <hr style="margin-bottom: 0px;"/>

 <div class="meta" style="padding-bottom: 0px; margin-bottom: 2em;">
   <ul>
     <li style="text-align: center">
       <a href="/compute-database-size/">
         <img src="/img/growth-icon.png">Compute Database Size</a>
     </li>
     <li style="text-align: center">
       <a href="/explain-plan-visualizer/">
         <img src="/img/pev-icon.png">Query Plan Visualizer</a>
     </li>
   </ul>
 </div>
 <hr style="margin-bottom: 0px;"/>
 
 <div class="packages_block">
  <header class="heading">
   <h3>The Book</h3>
   <p class="lightpurple">
    The Art of PostgreSQL comes in a choice of four packages.</p>
  </header>

  <ul class="price_list">
   <li style="max-width: 100%">
    <div>
     <h5>Standard Edition</h5>
     <div class="price">
      <sup>$</sup>49
     </div>
     <p>The real deal, 438 pages of advanced SQL teaching, just for you. You get the PDF version, the ePub version, and the MOBI version too. And the SQL queries as separate files too!</p>
     <p><a data-slide=".descriptions_list" href="/#">LEARN MORE</a></p>
     <a class="button button_purple" style="color: white;" href="https://sales.theartofpostgresql.com/standard-edition/">PURCHASE</a>
    </div>
   </li>

   <li style="max-width: 100%; margin-top: 3em;" class="bestvalue">
    <div>
     <div class="best">MOST POPULAR</div>
     <h5>Full Edition</h5>
     <div class="price">
      <sup>$</sup>99
     </div>
     <p>The Full Edition comes with the electronic book package and an archive with a PostgreSQL dump file ready to be restored in your own instance, plus all the 334 queries as separate files for you to run and edit!</p>
     <p><a data-slide=".descriptions_list" href="/#">LEARN MORE</a></p>
     <a class="button button_purple" style="color: white;" href="https://sales.theartofpostgresql.com/full-edition/">PURCHASE</a>
    </div>
   </li>

   <li style="max-width: 100%">
    <div>
     <h5>Dead Tree Edition</h5>
     <div class="price">
      <sup>$</sup>129
     </div>
     <p>A professionally printed paperback of 480 pages, with the same content. You also have the benefits of the Full Edition including the copy/paste friendly content, the queries, and the database to use to replay the queries from the book!</p>
     <p><a data-slide=".descriptions_list" href="/#">LEARN MORE</a></p>
     <a class="button button_purple" style="color: white;" href="https://sales.theartofpostgresql.com/the-dead-tree-edition/">PURCHASE</a>
    </div>
   </li>

   <li style="max-width: 100%">
    <div>
     <h5>Enterprise Edition</h5>
     <div class="price">
      <sup>$</sup>229
     </div>
     <p>Everything you need for your whole team to master SQL, including a licence to share the electronic version of the book, the database, the 334 query files and a licence to share everything with up to 15 people in your enterprise!</p>
     <p><a data-slide=".descriptions_list" href="#">LEARN MORE</a></p>
     <a class="button button_purple" style="color: white;" href="https://sales.theartofpostgresql.com/enterprise-edition/">PURCHASE</a>
    </div>
   </li>

  </ul>
 </div>

 <hr style="margin-top: 0px;"/>
 



<style>
#share-buttons {display: inline-block; vertical-align: middle; padding-bottom: 1em;}
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
position: relative;
height: 36px; 
width: 64px; 
float: left; 
text-align: center;
color: #18181C;
}
#share-buttons > div > svg {height: 16px; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 36px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 40px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 38px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 40px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 34px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 28px; margin-top: 11px;}
</style>

<div id="share-buttons">
 <header style="text-align: center">
  <h3>Share</h3>
 </header>
<div class="facebook" title="Share this on Facebook" onclick="window.open('http://www.facebook.com/share.php?u=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
<div class="twitter" title="Share this on Twitter" onclick="window.open('http://twitter.com/intent/tweet?text=What is an SQL JOIN?&url=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
<div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/shareArticle?mini=true&url=https:\/\/theartofpostgresql.com\/\/blog\/2019-09-sql-joins\/&title=&summary=&source=');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>


</div>



</aside>


    </div>
</div>            
         
 

<footer class="footer">
	<div class="wrapper">
	    <div class="about_block">
	        <h6>about the author</h6>
	        <p>Hi! My name is Dimitri Fontaine and I have been using and contributing to Open Source Software for the best of the last 20 years. I am a PostgreSQL Major Contributor after having contributed Extensions and Event Triggers, among other things.</p>
	        <p>I have been writing code almost daily for a very long time now, both in a professional capacity and on my leisure time. I&rsquo;ve also been a database architect and a DBA on-call. As a developer I enjoy using SQL. As a database architect, I like teaching advanced SQL techniques to my colleagues.</p>
	        <ul>
	            <li><a target="_blank" href="mailto:dim@tapoueh.org">email</a></li>
	            <li><a target="_blank" href="https://twitter.com/tapoueh">twitter</a></li>
	            <li><a target="_blank" href="https://github.com/dimitri">github</a></li>
	            <li><a target="_blank" href="https://www.reddit.com/user/theartofpostgresql">reddit</a></li>
	        </ul>
    	</div>
	    <div class="faq_block">
            <h6>FAQ</h6>
	        <dl>
	           <dt>What if the book isn&rsquo;t what I expected it would be?</dt>
	           <dd>The Art of PostgreSQL is a book that teaches SQL to application developers. If it's not of any value to you, then just say so and I'll refund you, no questions asked.</dd>
	           <dt>I bought the book, and I'm confused. What now?</dt>
	           <dd>The content of the book is available as a PDF, ePub and MOBI file, and you can also download the SQL queries. The content is available over at <a href="https://postgresql.thinkific.com/enrollments" target="_">https://postgresql.thinkific.com/</a> from your student dashboard.</dd>
	           <dt>Is there any DRM?</dt>
	           <dd>No. There isn't even watermarking on the PDF. You own what you buy. The sources of data selected for the book are all available with Open Data types of licenses, and the book itself is copyright Dimitri Fontaine. All rights reserved.</dd>
	           <dt>Any other questions?</dt>
	           <dd>Contact me by <a href="mailto:dim@tapoueh.org">email</a> and just ask! I will do my best to answer you.</dd>
	        </dl>
                <div style="font-size: 150%; margin-top: 3em;">
                  <h6>Languages</h6>
                  <a href="/">🇬🇧</a>
                  <a href="/fr/">🇫🇷</a>
                  <a href="/ua/">🇺🇦</a>
                </div>  
    	    </div>            
	</div>
</footer>






<div class="copyright">
    <div class="wrapper">
        Copyright 2019 &copy; Dimitri Fontaine. All rights reserved. Design by <a style="color: white; font-weight: bold;" target="_blank" href="https://www.terrilowry.com">TerriLowry.com.</a>
    </div>
</div>


</body>


<script type="text/javascript">
  var subscribersSiteId='1296f531-7ba0-406f-89e1-bdca40a36208';
</script>
<script type="text/javascript"
        src="https://cdn.subscribers.com/assets/subscribers.js">
</script>
 


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47059482-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-47059482-5');
</script>


<script>
!function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
},s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');

twq('init','o0ial');
twq('track','PageView');
</script>


</html> 

